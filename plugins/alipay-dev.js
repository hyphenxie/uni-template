const alipaydev = require('alipay-dev')
const key = {
  privatePem: 'MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDCbAAuwZK2b3P7h/4VMBaIYJ5pUoGxgABk0oVEwY0AJ8+VYuDfFmLz51AhJck1d/HQZe6OFG05MoPWFWIVoItIZBywQkQR6S+C8KpKfUxWDsZFK75g1yubcnAECcY0unmoHlKt8QyWpK0QddQYNPkD2+NLhPXysE8hvnpbsIdyTfuk6u/zvGKnY6L2XkGMeC1lc0nQLmozXSDYA9zvqvYQNDDZajTzmGb3mwzihDkWCQSyE43Mf3/3AHga03gY4nr1Uy+Wd3xF/nArooHtMsGotTFFmmP0AedNiMPpPv3dld7Ppo1bz89rsqp3XtJws+BTEzv1GEB2U3x/NbIThC/NAgMBAAECggEAG7R+Nit5d6vcMDzJ1UUcAOUbzdBnEN83ryZcvVaDfEEwEI6dkszC3xTYU1DqIkdsWxEbdH2urtbm+IvlhUVyc6doeymGP7MmBRe8fI7sYNsMH/FC2NPwr98X3UtzRjJIgc+IYqcV7yWaT90qkySBU65y7mENFz9Ol3VoREaclooMXLi5tIWBe0gRLKs33eUAubKn2ZREANud5wh2nAYeNoPwxIccRh4HSPLwYsY1MjRu0FnQpmGqrP/rHEgacphOIw+hexbQjz0y1qHFlDQDtwKSG7TiTqqtx3H/YosRiYe3D+88USJvdMDSdM79gO7Q/XVkWGUWKz6pXCAa2ZF3FQKBgQD4ibbQUYWIAp6JmCIQeCNlp6RZcRMZnWUw2Vvr3VRK7+e+XVPICbsCFznEeCENVZrLCtI5vUPzHxUfZpOdpEFmUEaCjCYYYqtb2pIUzs94Q4W3qP96zFYPLGtg9egRvZpX4Rnzl4x4qbUH6wIK5EgwsMU2I2eAUS/gXdHGB6k+1wKBgQDIQlhuw97Oj5DB2VvWetr42CsOMHLMNdFgHn+n7Fpj1nleGtVa3sg4lFVLcFHK5N8GWBmGthuWFyRxSYBjcPZ55PP9h4cLgq08LaGYEunTogg3ycC2IFNDm639NcYMUUon2XYWrDPAsyA5Gs9aUGg7+b0E3ZNLcYNs59ACCiWl+wKBgHB1L8k2+eq+9KlhsxgspCedIVpvNatDcsQVtegVr8xwnTWf2QcMkBe0Fql1ic8UywPQk6sYnqRljhM1QNn1trnq3Ny5OYuTKeJYFf1gTrQmKV0fFOqlhtM60COBYU6Vsj7NVgbIrgDzGTzJ85SmEpwlgDas8mo3Uih9iyvFz6jlAoGBAL8zwVV4hEo6ft7m1i2xPVMsqecxUNozZEZeuEmvfBoo09aKzjylywtibRHLGv0aiup2wWCCjVI/pFbZ89B+MYbumBrwBHtz+E0l0EzvefvLkAccBXie4oEBqhzB8+cc0i28DmjVX9BT9qcvNt0nOm5RIyz7FcCJkA8yQcNAxvNzAoGACoVzm66sH0v5EetIEs4wCR26ZHq2Q9MJlEsCa+sx8rfqDbB3QzCfvl+QizDL4WmurB1V5C/sUi0T66bHusC04s4DooPGRolxtJehGaFnHnbqb8hDWu1E4yTw45Esw51FQycYXTvLsrZp6tGoAbGUftbpLGtjAfknB7698hPcwII=',
  publicPem: 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwmwALsGStm9z+4f+FTAWiGCeaVKBsYAAZNKFRMGNACfPlWLg3xZi8+dQISXJNXfx0GXujhRtOTKD1hViFaCLSGQcsEJEEekvgvCqSn1MVg7GRSu+YNcrm3JwBAnGNLp5qB5SrfEMlqStEHXUGDT5A9vjS4T18rBPIb56W7CHck37pOrv87xip2Oi9l5BjHgtZXNJ0C5qM10g2APc76r2EDQw2Wo085hm95sM4oQ5FgkEshONzH9/9wB4GtN4GOJ69VMvlnd8Rf5wK6KB7TLBqLUxRZpj9AHnTYjD6T793ZXez6aNW8/Pa7Kqd17ScLPgUxM79RhAdlN8fzWyE4QvzQIDAQAB'
}
alipaydev.setConfig({
  toolId: 'cfadfa9b6662408ba1844da9244ccc6e',
  privateKey: key.privatePem,
})
const path = require('path')
const resolve = dir => path.resolve(__dirname, dir)

alipaydev.miniPreview({
  project: resolve('../dist/dev/mp-alipay'),
  appId: '2021002104644363',
  page: 'pages/entry/index?id=10&from=name'
}).then((previewResult) => {
  console.log('previewResult', previewResult)
})